%global packname  SNFtool
%global packver   2.3.0
%global rlibdir   /usr/local/lib/R/library

Name:             R-CRAN-%{packname}
Version:          2.3.0
Release:          3%{?dist}
Summary:          Similarity Network Fusion

License:          GPL
URL:              https://cran.r-project.org/package=%{packname}
Source0:          %{url}&version=%{packver}#/%{packname}_%{packver}.tar.gz


BuildRequires:    R-devel
Requires:         R-core
BuildArch:        noarch
BuildRequires:    R-CRAN-heatmap.plus 
BuildRequires:    R-CRAN-ExPosition 
BuildRequires:    R-CRAN-alluvial 
Requires:         R-CRAN-heatmap.plus 
Requires:         R-CRAN-ExPosition 
Requires:         R-CRAN-alluvial 

%description
Similarity Network Fusion takes multiple views of a network and fuses them
together to construct an overall status matrix. The input to our algorithm
can be feature vectors, pairwise distances, or pairwise similarities. The
learned status matrix can then be used for retrieval, clustering, and
classification.

%prep
%setup -q -c -n %{packname}


%build

%install

mkdir -p %{buildroot}%{rlibdir}
%{_bindir}/R CMD INSTALL -l %{buildroot}%{rlibdir} %{packname}

test -d %{packname}/src && (cd %{packname}/src; rm -f *.o *.so)
rm -f %{buildroot}%{rlibdir}/R.css

%files
%dir %{rlibdir}/%{packname}
%doc %{rlibdir}/%{packname}/html
%{rlibdir}/%{packname}/Meta
%{rlibdir}/%{packname}/help
%{rlibdir}/%{packname}/data
%{rlibdir}/%{packname}/DESCRIPTION
%{rlibdir}/%{packname}/NAMESPACE
%{rlibdir}/%{packname}/R
%{rlibdir}/%{packname}/INDEX
